<!DOCTYPE html>
<head>
    <script type="text/javascript" src="/main.js"></script>
    <title>Andrew is a partial site generator</title>
    <meta name="andrew-published-at" content="2024-03-09"/>
</head>

<body>
<nav class="navigation">
    <a href="/" class="link">front page</a>
        <img src="/images/logo.png">
    <a href="/articles/index.html" class="link">articles</a>
    <a href="/projects/index.html" class="link">projects</a>
</nav>

<link rel="stylesheet" href="/styles.css">
<div id="playtechnique-header"></div>
<main>
<article>
    <section id="introduction">
        <p>
            <dfn>andrew</dfn> is the name of a partial site generator I'm building.
        </p>
        <p>
            I want the site author to be able to write website content by hand, in html and css and javascript. I
            want andrew to dynamically generate a set of listings of the articles inside the directory structure of the website.
        </p>
        <p>I'm not sure yet whether andrew should offer to serve a site (makes it a one-stop solution!) or whether
           it should write files on the file system, but a mentor noted to me recently that there are plenty of site
           generators that offer both.
        </p>
    </section>

    <section id="index-functionality">
        <p>The only functionality I need is generating an index.html, where I want the links to child pages to be. It's
           a
           pain in the arse to track all these as I write web pages.
        </p>
        <p>
            Really, no second piece of functionality. Don't be smart about trying to handle default styling; that's
            neat and I'm glad tools do that, but I want to have as vanilla an experience as possible, just writing html
            and javascript and css, but not manually tracking every page.
        </p>
    </section>
    <section id="index-functionality-problem">
        <p>
            I started thinking I could completely generate index.html, and serve the whole page from a binary I write,
            but
            that immediately hit a set of problems in this code:<br/>
            <code>
                <pre>
    &lthead&gt
        &ltscript type="text/javascript" src="../main.js"&gt&lt/script&gt
    &lthead&gt
            </pre>
            </code>
        </p>

        <p>
            I don't want this index.html generator to care about my file system layout, but the head element needs to
            include a path sourced from the file system. A child in website/projects/andrew/page.html needs to know it's
            four levels deep, so it can include the stylesheet and javascript files stored in my content root directory.
        </p>
        <p>My current solution is to use go html templates, so that a file can own its own head elements, but the stuff
           I'm annoyed by maintaining is autogenerated, like this:<br/>
            <code>
            <pre>
    &lthead&gt
        &ltscript type="text/javascript" src="../main.js"&gt&lt/script&gt
    &lt/head&gt
    &ltbody&gt
        {{ .AndrewGeneratedIndex }}
    &lt/body&gt
            </pre>
            </code>
        </p>
    </section>

</article>
</main>
</body>
